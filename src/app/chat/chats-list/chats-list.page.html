<ion-header>
	<ion-toolbar color="primary">
		<ion-title>
			<ion-icon name="chatboxes"></ion-icon>
			Chats
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<div>
		<ion-list *ngIf="chats.length">
			<ion-item *ngFor="let chat of chats" (press)="showOptions(chat)" (click)="goToChat(chat)">
				<ion-avatar slot="start">
					<img [src]="helper.profileImage(chat.user.profileImage)">
				</ion-avatar>
				<ion-label>
					<h2>{{chat.user.name}}</h2>
					<ion-note>{{chat.messages | lastMessageTime}} ago</ion-note>
					<p>{{chat.messages | lastMessage}}</p>
				</ion-label>
			</ion-item>
		</ion-list>
		<div *ngIf="!chats.length">
			<div align="center">
				<ion-icon style="font-size: 200px; color: rgb(170,170,170);" name="chatboxes"></ion-icon>
			</div>
			<h5 style="margin-top: 40px; text-align: center; color: rgb(170,170,170);">NO HAY CHATS</h5>
		</div>
	</div>
	<ion-fab vertical="bottom" horizontal="end" slot="fixed">
		<ion-fab-button color="secondary">
			<ion-icon name="paper-plane"></ion-icon>
		</ion-fab-button>
		<ion-fab-list side="start">
			<ion-fab-button (click)="newChat()">
				<ion-icon name="person-add"></ion-icon>
			</ion-fab-button>
			<ion-fab-button (click)="newChannel()">
				<ion-icon name="people"></ion-icon>
			</ion-fab-button>
		</ion-fab-list>
	</ion-fab>
</ion-content>
